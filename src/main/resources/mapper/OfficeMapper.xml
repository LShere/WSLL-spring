<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="spring.mapper">
    <resultMap id="Two" type="office">
        <id property="officeCode" column="officeCode"/>
        <result property="city" column="city"/>
        <result property="phone" column="phone"/>
        <collection property="employees" column="officeCode" ofType="employee"
                    select="spring.mapper.findEmployeeByOfficeCode"/>
    </resultMap>
    <select id="findOffice" resultType="office">
        select * from offices
        where officeCode = #{officeCode}
    </select>

    <select id="findOfficeEmployee" resultMap="Two">
        select *
        from offices
    </select>

</mapper>
